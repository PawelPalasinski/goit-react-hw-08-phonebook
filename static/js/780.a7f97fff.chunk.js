"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[780],{8780:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var r=n(2791),a=n(5048),c=n(5861),s=n(7757),o=n.n(s),u=function(t){return t.contacts.loading},i=function(t){return t.contacts.items},d=n(5273),h=n(1044),l=(0,d.hg)("contacts/fetchAll",function(){var t=(0,c.Z)(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.Z.get("/contacts");case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),p=(0,d.hg)("contacts/addContact",function(){var t=(0,c.Z)(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.Z.post("/contacts",{text:e});case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),x=(0,d.hg)("contacts/deleteContact",function(){var t=(0,c.Z)(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,h.Z.delete("/contacts/".concat(e));case 3:return r=t.sent,t.abrupt("return",r.data);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}()),v=n(3402),m=n(5984),f={phonebook:"ContactForm_phonebook__3VpZj"},j=n(3329),g=function(){var t=(0,a.I0)(),e=(0,a.v9)(i),n=function(){var n=(0,c.Z)(o().mark((function n(r){var a,c,s;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),a=r.target,c=a.name.value,s=a.phone.value,e.find((function(t){return t.name===c}))?(alert("".concat(c," is already your friend...")),v.ZP.error("".concat(c," is already your friend..."))):(t(p({id:(0,m.x0)(),name:c,phone:s})),v.ZP.success("".concat(c," is now on your Friends List")),a.reset());case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,j.jsxs)("div",{className:f.phonebook,children:[(0,j.jsx)("svg",{className:f.phonebookSvg,id:"phone",width:"60px",height:"60px",viewBox:"0 0 299.995 299.995",children:(0,j.jsx)("g",{children:(0,j.jsx)("g",{children:(0,j.jsxs)("g",{children:[(0,j.jsx)("path",{d:"M149.992,0.001C67.156,0.001,0,67.159,0,149.998c0,82.837,67.156,149.997,149.992,149.997 c82.842,0,150.003-67.161,150.003-149.997C299.995,67.159,232.834,0.001,149.992,0.001z M210.947,217.132v10.374 c0,5.729-4.645,10.374-10.374,10.374h-10.374h-57.256H96.829c-11.458,0-20.749-9.29-20.749-20.749V86.592 c0-11.458,9.29-20.749,20.749-20.749h36.113h57.256h10.374c5.729,0,10.374,4.645,10.374,10.374v10.375h0.001V217.132z M231.695,86.592v130.54v10.374c0,5.729-4.645,10.374-10.374,10.374h-2.806c1.774-3.055,2.806-6.593,2.806-10.374v-10.374V86.592 V76.219c0-3.781-1.032-7.319-2.806-10.374h2.806c5.729,0,10.374,4.645,10.374,10.374V86.592z"}),(0,j.jsx)("path",{d:"M175.591,165.517c0,0-3.909-4.692-8.237-1.455c-3.226,2.412-9.023,7.776-10.416,9.078c0,0-9.69-5.166-15.424-9.884 c-8.494-6.985-14.174-15.608-17.151-20.513l-2.223-4.191c0.775-0.835,6.71-7.189,9.277-10.639 c3.232-4.326-1.452-8.235-1.452-8.235s-13.183-13.183-16.184-15.798c-3.003-2.622-6.461-1.167-6.461-1.167 c-6.315,4.082-12.859,7.628-13.248,24.686c-0.013,15.969,12.109,32.438,25.215,45.188c13.131,14.402,31.162,28.833,48.588,28.817 c17.055-0.384,20.598-6.93,24.678-13.245c0,0,1.46-3.455-1.159-6.458C188.774,178.693,175.591,165.517,175.591,165.517z"})]})})})}),(0,j.jsx)("h2",{children:"Phonebook"}),(0,j.jsxs)("form",{onSubmit:n,children:[(0,j.jsx)("label",{htmlFor:"name",children:"Name"}),(0,j.jsx)("input",{type:"text",name:"name",placeholder:"Enter name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),(0,j.jsx)("br",{}),(0,j.jsx)("label",{htmlFor:"number",children:"Number"}),(0,j.jsx)("input",{type:"tel",name:"phone",placeholder:"Enter phone number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),(0,j.jsx)("button",{type:"submit",children:"Add contact"}),(0,j.jsx)("br",{})]})]})},b={contacts:"ContactList_contacts__jDmyV"},y=function(t){var e=t.id,n=t.name,r=t.number,c=t.children,s=(0,a.I0)();return(0,j.jsxs)("div",{className:b.contacts,children:[c,(0,j.jsx)("h2",{children:"Contacts"}),(0,j.jsx)("ul",{children:(0,j.jsxs)("li",{children:[(0,j.jsx)("p",{children:(0,j.jsxs)("span",{children:[n,": ",r]})}),(0,j.jsx)("button",{type:"button",className:b.btn,onClick:function(){s(x(e))},children:"\u26cc"})]})})]})},C=n(1465),w=n(255),k=(0,C.LC)({reducerPath:"",baseQuery:(0,w.ni)({baseUrl:"https://6334c762ea0de5318a08dccd.mockapi.io/v1/"}),tagTypes:["Contacts"],endpoints:function(t){return{getContacts:t.query({query:function(){return"/contacts"},providesTags:["Contacts"]}),addContact:t.mutation({query:function(t){return{url:"contacts/",method:"POST",body:t}},invalidatesTags:["Contacts"]}),deleteContact:t.mutation({query:function(t){var e=t.id;return{url:"contacts/".concat(e),method:"DELETE",body:e}},invalidatesTags:["Contacts"]})}}}),_=k.useGetContactsQuery,V=(k.useAddContactMutation,k.useDeleteContactMutation,n(8873)),M="Filter_filter__vxThR",Z=function(){var t=(0,a.I0)();return(0,j.jsx)("input",{className:M,type:"text",onChange:function(e){e.preventDefault();var n=e.currentTarget.value;t((0,V.xO)(n))},placeholder:"Enter name for Search"})},z={sadMessage:"NoContactsMessage_sadMessage__tzUpR"},N=function(){return(0,j.jsxs)("div",{className:z.sadMessage,children:[(0,j.jsxs)("svg",{className:z.sadSvg,version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"150px",height:"150px",viewBox:"0 0 128 128",children:[(0,j.jsxs)("g",{children:[(0,j.jsx)("polygon",{points:"117.4,68.8 117.4,59.3 57.6,59.3 57.6,68.8 104.7,68.8 104.7,119.7 83.2,119.7 83.2,124.9 114.8,124.9  114.8,119.7 111.5,119.7 111.5,68.8 \t"}),(0,j.jsx)("path",{d:"M49.4,91.4H16.7V58.6h-6.6v37.7h0c0,0.2,0,0.4,0,0.6V126h5.8v-23H49v23h5.8V96.9C54.8,93.9,52.4,91.4,49.4,91.4z"}),(0,j.jsx)("polygon",{points:"95.6,32 103,52.8 90.2,52.8 90.2,56.7 106.8,56.7 106.8,55.4 106.8,52.8 97.2,26.2 103.2,3.5 98.9,2.3 87.5,44.7  91.9,45.9 \t"}),(0,j.jsx)("path",{d:"M86.5,108.5L70.1,78.4c-1.2-2.6-3.9-4.2-6.5-4.2H43.7v-8.7H44c-4.3,0-7.9-3.6-7.9-7.9V44.8c0-0.9,0.5-1.4,1.4-1.4 s1.4,0.5,1.4,1.4v12.8c0,2.8,2.4,5,5,5h12v-5.2h21.2c0,0,0-0.1,0-0.1c0-2.6-2.1-4.8-4.8-4.8c0,0,0,0,0,0H49v-18 c0-2.6-1.8-4.6-4.5-5c-0.9-0.1-1.7-0.1-2.8,0c-9.9,0.7-19.9,8.8-21.2,19.3c-1.2,9.3-1.4,19.9-0.4,28.8c0.9,5.5,5.1,10.1,11.1,10.8 c0.6,0.1,1.2,0.1,1.9,0.1H59l14.5,26.2c1.7,3.6,5.9,5,9.5,3.4C86.6,116.5,88.2,112.2,86.5,108.5z"})]}),(0,j.jsx)("circle",{cx:"65.3",cy:"36.9",r:"11.4"})]}),(0,j.jsx)("p",{children:"It looks like you don't have any friends. Try to find some and add them to your phonebook"})]})},T=function(){var t=_().data,e=void 0===t?[]:t;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g,{}),e.length>0?(0,j.jsx)(y,{children:(0,j.jsx)(Z,{})}):(0,j.jsx)(N,{})]})};function A(){var t=(0,a.I0)(),e=(0,a.v9)(u);return(0,r.useEffect)((function(){t(l())}),[t]),(0,j.jsxs)("div",{children:[(0,j.jsx)(T,{}),(0,j.jsxs)(y,{children:[(0,j.jsx)(Z,{}),e&&(0,j.jsx)("p",{children:"'Loading'"})]})]})}}}]);
//# sourceMappingURL=780.a7f97fff.chunk.js.map